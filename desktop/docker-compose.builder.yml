# Datasetto Desktop Builder for Radxa/ARM64
# 
# Usage:
#   docker compose -f docker-compose.builder.yml up --build
#
# Artifacts will be in ./release/

services:
  builder:
    build:
      context: ..
      dockerfile: desktop/Dockerfile.builder
    volumes:
      - ./release:/build/desktop/release
    environment:
      - ELECTRON_CACHE=/tmp/electron-cache
      - ELECTRON_BUILDER_CACHE=/tmp/electron-builder-cache
    # Build Linux AppImage and deb for ARM64 (native on Radxa)
    command: ["--linux", "AppImage", "deb", "--arm64"]
